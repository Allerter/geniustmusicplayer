<SettingsPage>:
    BoxLayout:
        MDToolbar:
            id: toolbar
            pos_hint: {"top": 1}
            title: "Settings"
            elevation: 10
            left_action_items: [['menu', lambda x: app.nav_drawer.set_state('open')]]

    MDBoxLayout:
        size_hint_y: None
        pos_hint: {'center_y': 0.75}

        MDList:
            id: favorites_list

            CustomOneLineIconListItem:
                text: 'Dark Mode'

                RightContent:
                    pos_hint: {"center_y": .5}
                    MDBoxLayout:
                        adaptive_size: True

                    MDCheckbox:
                        id: dark_mode_checkbox
                        active: True if app.theme_cls.theme_style == 'Dark' else False
                        selected_color:
                            app.theme_cls.primary_light if app.theme_cls.theme_style == 'Dark' else app.theme_cls.primary_color
                        size_hint: None, None
                        size: "48dp", "48dp"
                        pos_hint: {'center_x': .5, 'center_y': .5}
                        on_active: root.on_checkbox_active(*args)

            MyBaseListItem:
                MDTextButton:
                    pos_hint: {"center_x": .5, "center_y": .5}
                    custom_color:
                        app.theme_cls.primary_light if app.theme_cls.theme_style == 'Dark' else app.theme_cls.primary_color
                    text: "RESET PREFERENCES"
                    on_release: root.show_alert_dialog()

<CustomOneLineIconListItem>
<MyBaseListItem>